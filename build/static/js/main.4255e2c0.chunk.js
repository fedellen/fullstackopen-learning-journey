(this["webpackJsonppart2-phonebook"]=this["webpackJsonppart2-phonebook"]||[]).push([[0],{14:function(e,n,t){e.exports=t(36)},36:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(13),u=t.n(o),l=t(2),c=t(3),i=t.n(c),s=function(){return i.a.get("/api/persons").then((function(e){return e.data}))},m=function(e){return i.a.post("/api/persons",e).then((function(e){return e.data}))},d=function(e){return i.a.delete("".concat("/api/persons","/").concat(e)).then((function(e){return e}))},f=function(e){var n=e.message,t={color:e.color,background:"lightgrey",fontSize:26,borderStyle:"solid",borderRadius:5,margin:20,padding:20};return null===n?null:r.a.createElement("div",{style:t},n)},b=function(e){var n=e.person,t=e.handleDelete;return r.a.createElement("div",null,r.a.createElement("div",null,"Name: ",n.name),r.a.createElement("div",null,"Number: ",n.number),r.a.createElement("button",{onClick:t},"Delete Person"),r.a.createElement("br",null),r.a.createElement("br",null))},h=function(e){e.persons;var n=e.addPerson,t=(e.setPersons,e.sendNotif,Object(a.useState)("")),o=Object(l.a)(t,2),u=o[0],c=o[1],i=Object(a.useState)(""),s=Object(l.a)(i,2),m=s[0],d=s[1];return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n({name:u,number:m}),c(""),d("")}},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:u,onChange:function(e){c(e.target.value)}})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:m,onChange:function(e){d(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},p=function(e){var n=e.newFilter,t=e.handleFilter;return r.a.createElement("div",null,"filter show with name: ",r.a.createElement("input",{value:n,onChange:t}))},E=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],o=n[1],u=Object(a.useState)(""),c=Object(l.a)(u,2),i=c[0],E=c[1],v=Object(a.useState)(null),g=Object(l.a)(v,2),O=g[0],j=g[1],w=Object(a.useState)("green"),k=Object(l.a)(w,2),P=k[0],S=k[1],y=function(e,n){S(n),j(e),setTimeout((function(){return j(null)}),5e3)};Object(a.useEffect)((function(){s().then((function(e){return o(e)}))}),[]);var C=function(e){return t.filter((function(n){return-1!==n.name.toLowerCase().indexOf(e.toLowerCase())}))},D=C(i);return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(f,{message:O,color:P}),r.a.createElement(p,{newFilter:i,handleFilter:function(e){E(e.target.value),D=C(i),console.log(D)}}),r.a.createElement("h3",null,"Add a new number:"),r.a.createElement(h,{persons:t,addPerson:function(e){m(e).then((function(n){o(t.concat(n)),D=C(i),y("added ".concat(e.name," to the Phonebook"),"green")}))},setPersons:o,sendNotif:y}),r.a.createElement("h2",null,"Numbers"),D.map((function(e,n){return r.a.createElement(b,{key:n,person:e,handleDelete:function(){return function(e){var n=t.find((function(n){return n.id===e})),a="Are you sure you want to Delete ".concat(n.name," from the Phonebook?");window.confirm(a)&&d(e).then((function(e){204===e.status?(o(t.filter((function(e){return e!==n}))),y("".concat(n.name," has been deleted from the Phonebook"),"green")):y("Person could not be deleted.","red")}))}(e.id)}})})))};u.a.render(r.a.createElement(E,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.4255e2c0.chunk.js.map