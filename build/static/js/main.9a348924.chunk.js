(this["webpackJsonppart2-phonebook"]=this["webpackJsonppart2-phonebook"]||[]).push([[0],{14:function(e,n,t){e.exports=t(36)},36:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(13),u=t.n(o),c=t(2),l=t(3),i=t.n(l),d=function(){return i.a.get("/api/persons").then((function(e){return e.data}))},s=function(e){return i.a.post("/api/persons",e).then((function(e){return e.data}))},f=function(e){return i.a.delete("".concat("/api/persons","/").concat(e)).then((function(e){return e}))},m=function(e,n){return i.a.put("".concat("/api/persons","/").concat(e),n).then((function(e){return e.data}))},b=function(e){var n=e.message,t={color:e.color,background:"lightgrey",fontSize:26,borderStyle:"solid",borderRadius:5,margin:20,padding:20};return null===n?null:a.a.createElement("div",{style:t},n)},h=function(e){var n=e.person,t=e.handleDelete;return a.a.createElement("div",null,a.a.createElement("div",null,"Name: ",n.name),a.a.createElement("div",null,"Number: ",n.number),a.a.createElement("button",{onClick:t},"Delete Person"),a.a.createElement("br",null),a.a.createElement("br",null))},p=function(e){var n=e.persons,t=e.addPerson,o=e.setPersons,u=e.sendNotif,l=Object(r.useState)(""),i=Object(c.a)(l,2),d=i[0],s=i[1],f=Object(r.useState)(""),b=Object(c.a)(f,2),h=b[0],p=b[1];return a.a.createElement("form",{onSubmit:function(e){e.preventDefault();var r={name:d,number:h},a=n.find((function(e){return e.name===d}));if(a){var c="".concat(d," is already in the phonebook. Would you like to replace the old number with the new one?");window.confirm(c)&&m(a.id,r).then((function(e){o(n.map((function(n){return n.id!==a.id?n:e}))),u("Updated number for ".concat(d),"green")})).catch((function(e){u("Information for ".concat(d," has already been removed from the server."),"red"),o(n.filter((function(e){return e.id!==a.id})))}))}else t(r);s(""),p("")}},a.a.createElement("div",null,"name: ",a.a.createElement("input",{value:d,onChange:function(e){s(e.target.value)}})),a.a.createElement("div",null,"number: ",a.a.createElement("input",{value:h,onChange:function(e){p(e.target.value)}})),a.a.createElement("div",null,a.a.createElement("button",{type:"submit"},"add")))},v=function(e){var n=e.newFilter,t=e.handleFilter;return a.a.createElement("div",null,"filter show with name: ",a.a.createElement("input",{value:n,onChange:t}))},E=function(){var e=Object(r.useState)([]),n=Object(c.a)(e,2),t=n[0],o=n[1],u=Object(r.useState)(""),l=Object(c.a)(u,2),i=l[0],m=l[1],E=Object(r.useState)(null),g=Object(c.a)(E,2),w=g[0],O=g[1],j=Object(r.useState)("green"),k=Object(c.a)(j,2),y=k[0],P=k[1],S=function(e,n){P(n),O(e),setTimeout((function(){return O(null)}),5e3)};Object(r.useEffect)((function(){d().then((function(e){return o(e)}))}),[]);var C=function(e){return t.filter((function(n){return-1!==n.name.toLowerCase().indexOf(e.toLowerCase())}))},D=C(i);return a.a.createElement("div",null,a.a.createElement("h2",null,"Phonebook"),a.a.createElement(b,{message:w,color:y}),a.a.createElement(v,{newFilter:i,handleFilter:function(e){m(e.target.value),D=C(i),console.log(D)}}),a.a.createElement("h3",null,"Add a new number:"),a.a.createElement(p,{persons:t,addPerson:function(e){s(e).then((function(n){o(t.concat(n)),D=C(i),S("added ".concat(e.name," to the Phonebook"),"green")}))},setPersons:o,sendNotif:S}),a.a.createElement("h2",null,"Numbers"),D.map((function(e,n){return a.a.createElement(h,{key:n,person:e,handleDelete:function(){return function(e){var n=t.find((function(n){return n.id===e})),r="Are you sure you want to Delete ".concat(n.name," from the Phonebook?");window.confirm(r)&&f(e).then((function(e){204===e.status?(o(t.filter((function(e){return e!==n}))),S("".concat(n.name," has been deleted from the Phonebook"),"green")):S("Person could not be deleted.","red")}))}(e.id)}})})))};u.a.render(a.a.createElement(E,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.9a348924.chunk.js.map